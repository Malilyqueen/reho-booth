Nous travaillons actuellement sur la page mapocket/nouveau-projet.html, qui sert Ã  crÃ©er un nouveau projet budgÃ©taire dans MaPocket. Il est crucial de ne pas confondre cette page avec d'autres (comme projet-vue.html). Les bugs et incohÃ©rences actuelles viennent souvent dâ€™un mauvais ciblage ou dâ€™une logique appliquÃ©e Ã  la mauvaise page.

âœ… Objectifs attendus sur nouveau-projet.html
Suggestions de postes de dÃ©penses adaptÃ©es au modÃ¨le choisi

Ex : Anniversaire â†’ DJ, GÃ¢teau, Traiteur

Ex : Lancement de produit â†’ Communication, Presse, DÃ©mo

Ces suggestions doivent Ãªtre insÃ©rÃ©es en tant quâ€™Ã©lÃ©ments modifiables ou supprimables.

Suppression possible de toute sous-catÃ©gorie, mÃªme suggÃ©rÃ©e

Aucune sous-catÃ©gorie ne doit Ãªtre figÃ©e.

Lâ€™utilisateur doit pouvoir partir dâ€™un projet vide si souhaitÃ©.

Comptabilisation correcte du budget

Le champ Budget total (saisi par lâ€™utilisateur) doit Ãªtre une donnÃ©e distincte.

Les dÃ©penses saisies (catÃ©gories, sous-catÃ©gories, lignes) doivent Ãªtre automatiquement additionnÃ©es via une logique de calcul en cascade :

bash
Copier
Modifier
Ligne âœ Sous-catÃ©gorie âœ CatÃ©gorie âœ Total projet
Synchronisation des donnÃ©es

Tout ce qui est saisi dans nouveau-projet.html doit Ãªtre fidÃ¨lement rÃ©utilisÃ© dans projet-vue.html, sans transformation ou injection de nouvelles lignes par dÃ©faut.

Pas de suggestions auto-ajoutÃ©es lors du basculement entre pages.

Budget initial dans projet-vue.html

Le champ "Budget initial" affichÃ© dans la page projet doit correspondre au total des dÃ©penses prÃ©vues lors de la crÃ©ation du projet.

Ce champ doit Ãªtre calculÃ© automatiquement et stockÃ© au moment de la sauvegarde (dans savedProjects) puis rÃ©injectÃ©.

Comportement de lâ€™interface

Tous les boutons doivent Ãªtre clairs, non dupliquÃ©s.

Lâ€™interface ne doit pas se fermer automatiquement (bug constatÃ©).

Tous les Ã©lÃ©ments interactifs (+ Ajouter une ligne, Modifier, Supprimer) doivent fonctionner dans tous les navigateurs, sans bugs de clic ou de disparition de donnÃ©es.

Lâ€™interface doit Ãªtre responsive et fluide sur ordinateur comme mobile.

ğŸ›  Exemple de fonction Ã  ajouter :
js
Copier
Modifier
function getSuggestionsByTemplate(type) {
  const templates = {
    "Lancement de produit": ["Communication", "Presse", "Ã‰vÃ©nement de lancement", "Ã‰chantillons"],
    "Anniversaire": ["Traiteur", "DJ", "DÃ©coration", "GÃ¢teau"],
    "Mariage": ["Lieu", "Robe", "DJ", "Catering"],
    "Formation professionnelle": ["Salle", "Formateur", "Supports", "Communication"],
  };
  return templates[type] || [];
}
ğŸ‘‰ Cette fonction doit Ãªtre utilisÃ©e lors de la gÃ©nÃ©ration du formulaire de projet, mais jamais dans la vue projet.